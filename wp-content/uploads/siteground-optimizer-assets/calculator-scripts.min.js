/*! 
 * jQuery Steps v1.1.0 - 09/04/2014
 * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
 */(function(a,y){var m,x,k,j,i,o,v,c,l,g,u,D;a.fn.extend({_aria:function(a,b){return this.attr("aria-"+a,b)},_removeAria:function(a){return this.removeAttr("aria-"+a)},_enableAria:function(a){return a==null||a?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(a){return a==null||a?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(a){return a==null||a?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(a){return a?this.attr("id",a):this.attr("id")}}),String.prototype.format||(String.prototype.format=function(){for(var d=arguments.length===1&&a.isArray(arguments[0])?arguments[0]:arguments,c=this,b=0,e;b<d.length;b++)e=new RegExp("\\{"+b+"\\}","gm"),c=c.replace(e,d[b]);return c}),m=0,x="jQu3ry_5teps_St@te_",k="-t-",j="-p-",i="-h-",o="Index out of range.",v="One or more corresponding step {0} are missing.";function ab(a,b){q(a).push(b)}function aa(b,e,h){var g=b.children(e.headerTag),i=b.children(e.bodyTag),k,l,j;g.length>i.length?d(v,"contents"):g.length<i.length&&d(v,"titles"),k=e.startIndex,h.stepCount=g.length,e.saveState&&a.cookie&&(l=a.cookie(x+f(b)),j=parseInt(l,0),!isNaN(j)&&j<h.stepCount&&(k=j)),h.currentIndex=k,g.each(function(g){var h=a(this),d=i.eq(g),e=d.data("mode"),f=e==null?c.html:p(c,/^\s*$/.test(e)||isNaN(e)?e:parseInt(e,0)),j=f===c.html||d.data("url")===y?"":d.data("url"),k=f!==c.html&&d.data("loaded")==="1",l=a.extend({},u,{title:h.html(),content:f===c.html?d.html():"",contentUrl:j,contentMode:f,contentLoaded:k});ab(b,l)})}function $(a){a.triggerHandler("canceled")}function _(a,b){return a.currentIndex-b}function Z(b,g){var e=t(b),f,c,d;return b.unbind(e).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(e),b.removeClass(g.clearFixCssClass+" vertical"),f=b.find(".content > *"),f.removeData("loaded").removeData("mode").removeData("url"),f.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"),b.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty(),c=a('<{0} class="{1}"></{0}>'.format(b.get(0).tagName,b.attr("class"))),d=b._id(),d!=null&&d!==""&&c._id(d),c.html(b.find(".content").html()),b.after(c),b.remove(),c}function G(a,b){var c=a.find(".steps li").eq(b.currentIndex);a.triggerHandler("finishing",[b.currentIndex])?(c.addClass("done").removeClass("error"),a.triggerHandler("finished",[b.currentIndex])):c.addClass("error")}function t(b){var a=b.data("eventNamespace");return a==null&&(a="."+f(b),b.data("eventNamespace",a)),a}function h(a,b){var c=f(a);return a.find("#"+c+k+b)}function s(a,b){var c=f(a);return a.find("#"+c+j+b)}function Y(a,b){var c=f(a);return a.find("#"+c+i+b)}function e(a){return a.data("options")}function b(a){return a.data("state")}function q(a){return a.data("steps")}function w(c,a){var b=q(c);return(a<0||a>=b.length)&&d(o),b[a]}function f(b){var a=b.data("uid");return a==null&&(a=b._id(),a==null&&(a="steps-uid-".concat(m),b._id(a)),m++,b.data("uid",a)),a}function p(b,a){var c,e;if(K("enumType",b),K("keyOrValue",a),typeof a=="string")return c=b[a],c===y&&d("The enum key '{0}' does not exist.",a),c;if(typeof a=="number"){for(e in b)if(b[e]===a)return a;d("Invalid enum value '{0}'.",a)}else d("Invalid key or value type.")}function z(b,c,a){return I(b,c,a,M(a,1))}function A(b,c,a){return I(b,c,a,_(a,1))}function X(b,e,a,c){if((c<0||c>=a.stepCount)&&d(o),e.forceMoveForward&&c<a.currentIndex)return;var f=a.currentIndex;return b.triggerHandler("stepChanging",[a.currentIndex,c])?(a.currentIndex=c,B(b,e,a),C(b,e,a,f),n(b,e,a),H(b,e,a),W(b,e,a,c,f,function(){b.triggerHandler("stepChanged",[c,f])})):b.find(".steps li").eq(f).addClass("error"),!0}function M(a,b){return a.currentIndex+b}function V(c){var b=a.extend(!0,{},D,c);return this.each(function(){var c=a(this),d={currentIndex:b.startIndex,currentStep:null,stepCount:0,transitionElement:null};c.data("options",b),c.data("state",d),c.data("steps",[]),aa(c,b,d),Q(c,b,d),N(c,b),b.autoFocus&&m===0&&h(c,b.startIndex).focus(),c.triggerHandler("init",[b.startIndex])})}function E(e,g,b,f,h){(f<0||f>b.stepCount)&&d(o),h=a.extend({},u,h),U(e,f,h),b.currentIndex!==b.stepCount&&b.currentIndex>=f&&(b.currentIndex++,B(e,g,b)),b.stepCount++;var k=e.find(".content"),j=a("<{0}>{1}</{0}>".format(g.headerTag,h.title)),i=a("<{0}></{0}>".format(g.bodyTag));return(h.contentMode==null||h.contentMode===c.html)&&i.html(h.content),f===0?k.prepend(i).prepend(j):s(e,f-1).after(i).after(j),J(e,b,i,f),F(e,g,b,j,f),L(e,g,b,f),f===b.currentIndex&&C(e,g,b),n(e,g,b),e}function U(a,b,c){q(a).splice(b,0,c)}function T(c){var d=a(this),f=e(d),g=b(d),h;if(f.suppressPaginationOnFocus&&d.find(":focus").is(":input"))return c.preventDefault(),!1;h={left:37,right:39},c.keyCode===h.left?(c.preventDefault(),A(d,f,g)):c.keyCode===h.right&&(c.preventDefault(),z(d,f,g))}function H(d,f,g){var e,b,h;if(g.stepCount>0)if(e=g.currentIndex,b=w(d,e),!f.enableContentCache||!b.contentLoaded)switch(p(c,b.contentMode)){case c.iframe:d.find(".content > .body").eq(g.currentIndex).empty().html('<iframe src="'+b.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case c.async:h=s(d,e)._aria("busy","true").empty().append(r(f.loadingTemplate,{text:f.labels.loading})),a.ajax({url:b.contentUrl,cache:!1}).done(function(a){h.empty().html(a)._aria("busy","false").data("loaded","1"),d.triggerHandler("contentLoaded",[e])});break}}function I(g,e,a,b){var f=a.currentIndex,d,c,i;return!!(b>=0&&b<a.stepCount&&!(e.forceMoveForward&&b<a.currentIndex))&&(!(d=h(g,b),c=d.parent(),i=c.hasClass("disabled"),c._enableAria(),d.click(),f===a.currentIndex&&i)||(c._enableAria(!1),!1))}function R(i){i.preventDefault();var f=a(this),c=f.parent().parent().parent().parent(),g=e(c),d=b(c),h=f.attr("href");switch(h.substring(h.lastIndexOf("#")+1)){case"cancel":$(c);break;case"finish":G(c,d);break;case"next":z(c,g,d);break;case"previous":A(c,g,d);break}}function n(c,b,a){var d,e,f;b.enablePagination&&(d=c.find(".actions a[href$='#finish']").parent(),e=c.find(".actions a[href$='#next']").parent(),b.forceMoveForward||(f=c.find(".actions a[href$='#previous']").parent(),f._enableAria(a.currentIndex>0)),b.enableFinishButton&&b.showFinishButtonAlways?(d._enableAria(a.stepCount>0),e._enableAria(a.stepCount>1&&a.stepCount>a.currentIndex+1)):(d._showAria(b.enableFinishButton&&a.stepCount===a.currentIndex+1),e._showAria(a.stepCount===0||a.stepCount>a.currentIndex+1)._enableAria(a.stepCount>a.currentIndex+1||!b.enableFinishButton)))}function C(b,j,e,c){var f=h(b,e.currentIndex),g=a('<span class="current-info audible">'+j.labels.current+" </span>"),i=b.find(".content > .title"),d;c!=null&&(d=h(b,c),d.parent().addClass("done").removeClass("error")._selectAria(!1),i.eq(c).removeClass("current").next(".body").removeClass("current"),g=d.find(".current-info"),f.focus()),f.prepend(g).parent()._selectAria().removeClass("done")._enableAria(),i.eq(e.currentIndex).addClass("current").next(".body").addClass("current")}function L(b,l,m,g){for(var d=f(b),a=g,h,e,c,n;a<m.stepCount;a++)h=d+k+a,e=d+j+a,c=d+i+a,n=b.find(".title").eq(a)._id(c),b.find(".steps a").eq(a)._id(h)._aria("controls",e).attr("href","#"+c).html(r(l.titleTemplate,{index:a+1,title:n.html()})),b.find(".body").eq(a)._id(e)._aria("labelledby",c)}function N(a,c){var b=t(a);a.bind("canceled"+b,c.onCanceled),a.bind("contentLoaded"+b,c.onContentLoaded),a.bind("finishing"+b,c.onFinishing),a.bind("finished"+b,c.onFinished),a.bind("init"+b,c.onInit),a.bind("stepChanging"+b,c.onStepChanging),a.bind("stepChanged"+b,c.onStepChanged),c.enableKeyNavigation&&a.bind("keyup"+b,T),a.find(".actions a").bind("click"+b,R)}function O(b,d,c,a){return!(a<0||a>=c.stepCount||c.currentIndex===a)&&(P(b,a),c.currentIndex>a&&(c.currentIndex--,B(b,d,c)),c.stepCount--,Y(b,a).remove(),s(b,a).remove(),h(b,a).parent().remove(),a===0&&b.find(".steps li").first().addClass("first"),a===c.stepCount&&b.find(".steps li").eq(a).addClass("last"),L(b,d,c,a),n(b,d,c),!0)}function P(a,b){q(a).splice(b,1)}function Q(c,b,d){var f='<{0} class="{1}">{2}</{0}>',g=p(l,b.stepsOrientation),h=g===l.vertical?" vertical":"",e=a(f.format(b.contentContainerTag,"content "+b.clearFixCssClass,c.html())),i=a(f.format(b.stepsContainerTag,"steps "+b.clearFixCssClass,'<ul role="tablist"></ul>')),j=e.children(b.headerTag),k=e.children(b.bodyTag);c.attr("role","application").empty().append(i).append(e).addClass(b.cssClass+" "+b.clearFixCssClass+h),k.each(function(b){J(c,d,a(this),b)}),j.each(function(e){F(c,b,d,a(this),e)}),C(c,b,d),S(c,b,d)}function J(c,d,e,a){var b=f(c),g=b+j+a,h=b+i+a;e._id(g).attr("role","tabpanel")._aria("labelledby",h).addClass("body")._showAria(d.currentIndex===a)}function S(d,a,e){if(a.enablePagination){var f='<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>',c='<li><a href="#{0}" role="menuitem">{1}</a></li>',b="";a.forceMoveForward||(b+=c.format("previous",a.labels.previous)),b+=c.format("next",a.labels.next),a.enableFinishButton&&(b+=c.format("finish",a.labels.finish)),a.enableCancelButton&&(b+=c.format("cancel",a.labels.cancel)),d.append(f.format(a.actionContainerTag,a.clearFixCssClass,a.labels.pagination,b)),n(d,a,e),H(d,a,e)}}function r(a,f){for(var g=a.match(/#([a-z]*)#/gi),b=0,c,e;b<g.length;b++)c=g[b],e=c.substring(1,c.length-1),f[e]===y&&d("The key '{0}' does not exist in the substitute collection!",e),a=a.replace(c,f[e]);return a}function F(e,l,g,n,b){var h=f(e),o=h+k+b,p=h+j+b,m=h+i+b,d=e.find(".steps > ul"),q=r(l.titleTemplate,{index:b+1,title:n.html()}),c=a('<li role="tab"><a id="'+o+'" href="#'+m+'" aria-controls="'+p+'">'+q+"</a></li>");c._enableAria(l.enableAllSteps||g.currentIndex>b),g.currentIndex>b&&c.addClass("done"),n._id(m).attr("tabindex","-1").addClass("title"),b===0?d.prepend(c):d.find("li").eq(b-1).after(c),b===0&&d.find("li").removeClass("first").eq(b).addClass("first"),b===g.stepCount-1&&d.find("li").removeClass("last").eq(b).addClass("last"),c.children("a").bind("click"+t(e),ac)}function B(b,c,d){c.saveState&&a.cookie&&a.cookie(x+f(b),d.currentIndex)}function W(n,m,r,h,i,j){var l=n.find(".content > .body"),f=p(g,m.transitionEffect),e=m.transitionEffectSpeed,k=l.eq(h),c=l.eq(i),o,q,d,s,t;switch(f){case g.fade:case g.slide:o=f===g.fade?"fadeOut":"slideUp",q=f===g.fade?"fadeIn":"slideDown",r.transitionElement=k,c[o](e,function(){var d=a(this)._showAria(!1).parent().parent(),c=b(d);c.transitionElement&&(c.transitionElement[q](e,function(){a(this)._showAria()}).promise().done(j),c.transitionElement=null)});break;case g.slideLeft:d=c.outerWidth(!0),s=h>i?-d:d,t=h>i?d:-d,a.when(c.animate({left:s},e,function(){a(this)._showAria(!1)}),k.css("left",t+"px")._showAria().animate({left:0},e)).done(j);break;default:a.when(c._showAria(!1),k._showAria()).done(j);break}}function ac(l){var d,c,j,f,i,g,k;if(l.preventDefault(),d=a(this),c=d.parent().parent().parent().parent(),j=e(c),f=b(c),i=f.currentIndex,d.parent().is(":not(.disabled):not(.current)")&&(g=d.attr("href"),k=parseInt(g.substring(g.lastIndexOf("-")+1),0),X(c,j,f,k)),i===f.currentIndex)return h(c,i).focus(),!1}function d(a){throw arguments.length>1&&(a=a.format(Array.prototype.slice.call(arguments,1))),new Error(a)}function K(a,b){b==null&&d("The argument '{0}' is null or undefined.",a)}a.fn.steps=function(b){if(a.fn.steps[b])return a.fn.steps[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return V.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.steps")},a.fn.steps.add=function(c){var a=b(this);return E(this,e(this),a,a.stepCount,c)},a.fn.steps.destroy=function(){return Z(this,e(this))},a.fn.steps.finish=function(){G(this,b(this))},a.fn.steps.getCurrentIndex=function(){return b(this).currentIndex},a.fn.steps.getCurrentStep=function(){return w(this,b(this).currentIndex)},a.fn.steps.getStep=function(a){return w(this,a)},a.fn.steps.insert=function(a,c){return E(this,e(this),b(this),a,c)},a.fn.steps.next=function(){return z(this,e(this),b(this))},a.fn.steps.previous=function(){return A(this,e(this),b(this))},a.fn.steps.remove=function(a){return O(this,e(this),b(this),a)},a.fn.steps.setStep=function(a,b){throw new Error("Not yet implemented!")},a.fn.steps.skip=function(a){throw new Error("Not yet implemented!")},c=a.fn.steps.contentMode={html:0,iframe:1,async:2},l=a.fn.steps.stepsOrientation={horizontal:0,vertical:1},g=a.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},u=a.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:c.html,contentLoaded:!1},D=a.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:l.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!1,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:g.none,transitionEffectSpeed:200,onStepChanging:function(a,b,c){return!0},onStepChanged:function(a,b,c){},onCanceled:function(a){},onFinishing:function(a,b){return!0},onFinished:function(a,b){},onContentLoaded:function(a,b){},onInit:function(a,b){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}})(jQuery)