(()=>{var c={791:(a,d,b)=>{wp.media.view.AstraSearch=b(465);var c=wp.media.View.extend({tagName:"div",className:"ast-attachments-search-wrap",initialize:function(){this.value=this.options.value},render:function(){var a=new wp.media.view.AstraSearch({controller:this.controller,model:this.model});return this.views.add(a),this}});a.exports=c},172:(b,e,c)=>{var a,d=wp.media.view.Frame;wp.media.view.AstraContent=c(791),a=d.extend({tagName:"div",className:"attachments-browser ast-attachments-browser",images:[],object:[],initialize:function(){_.defaults(this.options,{filters:!1,search:!0,date:!0,display:!1,sidebar:!0,AttachmentView:wp.media.view.Attachment.Library}),this.createContent()},createContent:function(){this.attachmentsHeading=new wp.media.view.Heading({text:astraImages.title,level:"h3",className:"ast-media-views-heading"}),this.views.add(new wp.media.view.AstraContent),this.$el.find(".ast-image__search").wrapAll('<div class="ast-image__search-wrap">').parent().html(),this.$el.find(".ast-image__search-wrap").append('<span class="ast-icon-search search-icon"></span>')},photoUploadComplete:function(a){a&&a.attachmentData&&(this.model.frame.content.mode("browse"),this.model.get("selection").add(a.attachmentData),this.model.frame.trigger("library:selection:add"),this.model.get("selection"),jQuery(".media-frame .media-button-select").click())}}),b.exports=a},465:a=>{$=jQuery;var b=wp.Backbone.View.extend({tagName:"input",className:"ast-image__search",id:"ast-image-search-input",searching:!1,images:[],attributes:{placeholder:astraImages.search_placeholder,type:"search","aria-describedby":"live-search-desc"},events:{search:"search",keyup:"search",blur:"pushState",infinite:"infinite"},initialize:function(a){this.parent=a.parent},infinite:function(a){this.doSearch(a)},search:function(a){"keyup"===a.type&&27===a.which&&(a.target.value=""),""==a.target.value?this.$el.removeClass("has-input"):this.$el.addClass("has-input"),$scope.find(".ast-image__skeleton").animate({scrollTop:0},0),$("body").data("page",1),AstraImageCommon.infiniteLoad=!1;let b=this;setTimeout(function(){b.doSearch(a)},1500)},doSearch:function(b){if(this.searching)return;let a=this;a.searching=!0,AstraImageCommon.config.q=b.target.value,$.ajax({url:astraImages.ajaxurl,type:"POST",data:{action:"astra-sites-search-images",params:AstraImageCommon.config,_ajax_nonce:astraImages._ajax_nonce},beforeSend:function(){console.groupCollapsed("Requesting Pixabay API")}}).fail(function(a){console.log(a),console.groupEnd()}).done(function(b){console.log("Response:"),console.log(b),console.groupEnd(),b.success&&(a.searching=!1,this.images=b.data.hits,wp.media.view.AstraAttachmentsBrowser.images=this.images),$(document).trigger("ast-image__refresh")})},pushState:function(a){$(document).trigger("ast-image__refresh")}});a.exports=b}},a={};function b(d){var f=a[d],e;return void 0!==f?f.exports:(e=a[d]={exports:{}},c[d](e,e.exports,b),e.exports)}!function(c){var a=function(){if(null!=wp&&wp.media){var d=jQuery,c=wp.media.view.MediaFrame.Post,a=wp.media.view.MediaFrame.Select;wp.media.view.AstraAttachmentsBrowser=b(172);const e={browseRouter(b){a.prototype.browseRouter.apply(this,arguments),b.set({astraimages:{text:astraImages.title,priority:70}})},bindHandlers(){astraImages.is_elementor_editor?c.prototype.bindHandlers.apply(this,arguments):a.prototype.bindHandlers.apply(this,arguments),this.on("content:create:astraimages",this.astraimages,this)},astraimages(c){const a=this.state();let b=new wp.media.view.AstraAttachmentsBrowser({controller:this,model:a,AttachmentView:a.get("AttachmentView")});c.view=b,wp.media.view.AstraAttachmentsBrowser.object=b,setTimeout(function(){d(document).trigger("ast-image__set-scope")},100)}};astraImages.is_elementor_editor?wp.media.view.MediaFrame.Post=c.extend(e):wp.media.view.MediaFrame.Select=a.extend(e)}};c(function(){a(),astraImages.is_bb_active&&astraImages.is_bb_editor&&void 0!==FLBuilder&&null!==FLBuilder._singlePhotoSelector&&FLBuilder._singlePhotoSelector.on("open",function(b){a()})})}(jQuery)})()